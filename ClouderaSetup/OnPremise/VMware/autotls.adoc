= Enable AutoTLS in Cloudera Manager

Auto-TLS is managed using the `certmanager` utility, which is included in the Cloudera Manager Agent software, not the Cloudera Manager Server software. You must install the Cloudera Manager Agent software on the Cloudera Manager Server host to use the utility.

For more information, refer to the official documentation on _Configuring TLS Encryption for Cloudera Manager Using Auto-TLS_.

== Steps to Enable AutoTLS

1. Navigate to Cloudera Manager and open the _Add Private Cloud Base Cluster_ page.
2. The following screen will appear. Enter the values for the parameters as shown below:

[options="header"]
|===
| Component | Value
| Enable TLS for | All existing and future clusters
| SSH Username | root
| Authentication Method | All hosts accept same private key / All hosts accept same password
| Private Key (If using Key approach) | Choose the private key created and downloaded in earlier section
| Password (If using Password approach) | Enter VM’s root user password
| Confirm Password | Enter VM’s root user password (again)
|===

3. Click *Next* to continue. If all values are entered correctly, the next screen will confirm the configuration.
4. Click *Finish* to complete the setup.

== Restart Cloudera Manager Server

After enabling AutoTLS through the browser, log in to the `cldr-mngr` node as `root` and restart Cloudera Manager Server:

[source,shell]
----
[root@cldr-mngr ~]# systemctl restart cloudera-scm-server
[root@cldr-mngr ~]# systemctl status cloudera-scm-server -l
----

To check the Cloudera Manager Server logs, run:

[source,shell]
----
[root@cldr-mngr ~]# sudo tail -f /var/log/cloudera-scm-server/cloudera-scm-server.log
----

Wait until you see the message:

```
Started Jetty server
```

== Verify AutoTLS Setup

1. Open a new incognito browser window.
2. Access Cloudera Manager using the HTTP endpoint:

   ```
   http://<IP_for_CM_Server>:7180
   ```

3. The URL should automatically redirect to HTTPS on port `7183`:

   ```
   https://<CM_SRVR_IP_ADDR>:7183/
   ```

4. If you receive a certificate warning, you can ignore it and proceed since this is a self-signed certificate.
5. Enter the default credentials (`admin/admin`) and log in.
6. You should see AutoTLS enabled in Cloudera Manager.

AutoTLS configuration is now complete.

